# App
APP_PORT=8080
ALLOW_ORIGINS=*

# PostgreSQL
POSTGRES_DB=movie_db
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432

# Backend DB vars (override nếu cần)
DB_HOST=db
DB_PORT=5432
DB_NAME=movie_db
DB_USER=user
DB_PASSWORD=password

# --- OIDC / SSO (Keycloak) ---
OIDC_ISSUER=http://localhost:8080/auth/realms/movie        # Issuer public qua Nginx (cùng origin)
OIDC_REALM=movie
OIDC_FRONTEND_CLIENT_ID=movie-frontend            # Public client cho React (PKCE)
OIDC_API_AUDIENCE=movie-api                       # Backend "bearer-only" (không secret)
OIDC_ALLOWED_ROLES=admin,user                     # Role dự kiến dùng

# Public base URL (để FE build callback chính xác)
PUBLIC_BASE_URL=http://localhost                  # hoặc domain của bạn

# --- Nginx / Proxy ---
# Nếu để Nginx lộ /auth/ (Keycloak) cùng origin
NGINX_FE_HOST=frontend:80
NGINX_BE_HOST=backend:8000
NGINX_AUTH_HOST=keycloak:8080

# Tuỳ chọn CORS (nếu cần)
ALLOW_HEADERS=Authorization,Content-Type
ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
